<div class="main-db gap-top">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <div class="title-page">
          <h3><i class="fas fa-check-circle mr-1"></i> DEVICE ALERT</h3>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid mt-2">
    <div class="row">
      <div class="col-xl-6">
        <div class=" ">
          <input
            type="text"
            class="form-control form-control-sm input-custom"
            (keyup)="applyFilter($event)"
            placeholder="Search"
          />
        </div>
      </div>
      <div class="col-xl-6">
        <button
          class="btn btn-success float-right"
          (click)="addDeviceAlertDialog()"
        >
          <i class="fas fa-plus mr-1"></i> Add Device Alert
        </button>
      </div>
    </div>
  </div>
  <div class="container-fluid mt-2">
    <div class="row">
      <div class="col-xl-12">
        <div class="db-block" style="height: auto !important;">
          <h4>
            <i class="fa fa-database mr-2" aria-hidden="true"></i>
            <span> DEVICE ALERT VIEW</span>
            <a type="button" class="float-right">
              <i class="fa fa-file-pdf-o mr-1" aria-hidden="true"></i> PDF
            </a>
            <a type="button" class="float-right mr-3">
              <i class="fa fa-file-excel-o mr-1" aria-hidden="true"></i> Excel
            </a>
          </h4>
          <div class="mt-4">
            <div class="table-responsive">
              <table
                mat-table
                [dataSource]="dataSource"
                class="gridData"
                matSort
              >
                <ng-container matColumnDef="devicename">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Device
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <!-- <span *ngIf="element.device ;else notAvailable">{{element.device.name}}</span> 
              <ng-template #notAvailable>
                N/A
              </ng-template> -->
                    {{ element.devicename }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="callAlertActive">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Call Alert
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.callAlertActive === 1">True</span>
                    <span *ngIf="element.callAlertActive === 0">False</span>
                  </td>
                </ng-container>

                <ng-container matColumnDef="callAlertStartTime">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Call Alert Start Time
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <span
                      *ngIf="element.callAlertStartTime; else notAvailable"
                      >{{ element.callAlertStartTime }}</span
                    >
                    <ng-template #notAvailable>
                      N/A
                    </ng-template>
                  </td>
                </ng-container>

                <ng-container matColumnDef="callAlertEndTime">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Call Alert End Time
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.callAlertEndTime; else notAvailable">{{
                      element.callAlertEndTime
                    }}</span>
                    <ng-template #notAvailable>
                      N/A
                    </ng-template>
                  </td>
                </ng-container>

                <ng-container matColumnDef="callAlertType">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Call Alert Type
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.callAlertType; else notAvailable">{{
                      element.callAlertType
                    }}</span>
                    <ng-template #notAvailable>
                      N/A
                    </ng-template>
                  </td>
                </ng-container>

                <ng-container matColumnDef="callThreshold">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Call Threshold
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.callThreshold; else notAvailable">{{
                      element.callThreshold
                    }}</span>
                    <ng-template #notAvailable>
                      N/A
                    </ng-template>
                  </td>
                </ng-container>

                <ng-container matColumnDef="smsAlertActive">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Sms Alert
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.smsAlertActive === 1">True</span>
                    <span *ngIf="element.smsAlertActive === 0">False</span>
                  </td>
                </ng-container>

                <ng-container matColumnDef="smsAlertStartTime">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Sms Alert Start Time
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <span
                      *ngIf="element.smsAlertStartTime; else notAvailable"
                      >{{ element.smsAlertStartTime }}</span
                    >
                    <ng-template #notAvailable>
                      N/A
                    </ng-template>
                  </td>
                </ng-container>

                <ng-container matColumnDef="smsAlertEndTime">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Sms Alert End Time
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.smsAlertEndTime; else notAvailable">{{
                      element.smsAlertEndTime
                    }}</span>
                    <ng-template #notAvailable>
                      N/A
                    </ng-template>
                  </td>
                </ng-container>

                <ng-container matColumnDef="smsAlertType">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Sms Alert Type
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.smsAlertType; else notAvailable">{{
                      element.smsAlertType
                    }}</span>
                    <ng-template #notAvailable>
                      N/A
                    </ng-template>
                  </td>
                </ng-container>

                <ng-container matColumnDef="smsThreshold">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Sms Threshold
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.smsThreshold; else notAvailable">{{
                      element.smsThreshold
                    }}</span>
                    <ng-template #notAvailable>
                      N/A
                    </ng-template>
                  </td>
                </ng-container>

                <ng-container matColumnDef="actions">
                  <th mat-header-cell *matHeaderCellDef>Action</th>
                  <td mat-cell *matCellDef="let element">
                    <button
                      mat-icon-button
                      matTooltip="Click to Edit"
                      class="iconbutton text-warning"
                    >
                      <mat-icon
                        aria-label="Edit"
                        (click)="updateDeviceAlertDialog(element)"
                        >edit</mat-icon
                      >
                    </button>

                    <button
                      mat-icon-button
                      matTooltip="Click to Delete"
                      class="iconbutton text-danger"
                    >
                      <mat-icon
                        aria-label="Delete"
                        (click)="deleteDeviceAlert(element)"
                        >delete</mat-icon
                      >
                    </button>
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedColumns"
                ></tr>
              </table>
              <mat-paginator [pageSizeOptions]="[10, 25, 100]"></mat-paginator>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
